<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>考试成绩查询</title>
    <style>
        body{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background-color:#f0f0f0;font-family:Arial,sans-serif;font-size:24px;color:#333}
        #l_o_a_d{font-size:30px;font-weight:bold;color:#0066cc;margin-top:20px}
        .s_p_i_n{width:50px;height:50px;border:5px solid rgba(0,0,0,0.1);border-top-color:#0066cc;border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        #f_r_m{width:100vw;height:100vh;border:none;position:absolute;top:0;left:0;display:none;}
    </style>
</head>
<body>
    <div class="s_p_i_n"></div>
    <div id="l_o_a_d">成绩加载中...</div>
    <audio id="a_u_d" autoplay style="display:none;">
        <source src="https://www.myinstants.com/media/sounds/rickroll.mp3" type="audio/mpeg">
    </audio>
    <iframe id="f_r_m"></iframe>

    <script>
        (function(){
            var d=[{u:"https://ys.mihoyo.com/",w:5},{u:"https://sr.mihoyo.com/",w:3},{u:"https://zzz.mihoyo.com/",w:3},{u:"https://www.mini1.cn/",w:3},{u:"https://www.minecraft.net/",w:3},{u:"https://mc.163.com/",w:3}],
                t=d.reduce((a,b)=>a+b.w,0),
                r=Math.random()*t,
                f;
            
            for(let i=0;i<d.length;i++){if(r<d[i].w){f=d[i].u;break;}r-=d[i].w;}

            var a=document.getElementById("a_u_d");
            a.canPlayType&&a.play().catch(e=>console.log("音频被拦截"));

            setTimeout(function(){
                document.getElementById("l_o_a_d").style.display="none";
                document.querySelector(".s_p_i_n").style.display="none";
                var g=document.getElementById("f_r_m");
                g.src=f;
                g.style.display="block";
                
                // 监听 iframe 内部的点击事件（跳转）
                g.contentWindow.document.body.addEventListener('click', function(event) {
                    // 如果点击的是链接或按钮
                    if (event.target.tagName === 'A' || event.target.tagName === 'BUTTON') {
                        var targetUrl = event.target.href || event.target.getAttribute('data-url');
                        if (targetUrl) {
                            // 在父窗口跳转
                            window.top.location.href = targetUrl;
                        }
                    }
                });
            },5000);
        })();
    </script>
</body>
</html>
